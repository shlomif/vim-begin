This document aims to see how Vim’s “:!...” handles special characters and
quoting. Our shell is bash on GNU/Linux.

------------------------------------------------------------------------

.!echo foo

Gives:

«
foo
»

.!echo 'foobar'

Gives:

«
foobar
»

So “'” (single-quote) doesn't have to be escaped.

------------------------------------------------------------------------

.!echo \'

Gives:

«
'
»

.!echo \\Foo\\

Gives:

«
\Foo\
»

.!perl -E 'say qq(Foo\x{20}Bar)'

Gives:

«
Foo Bar
»

So “\” (Backslash) need not be escaped.

------------------------------------------------------------------------

.!echo %

Gives:

«
understanding-exclamation-mark-shell-exec--escaping-rules.txt
»

.!echo \%

Gives

«
%
»

So “%” (percent-sign) should be escaped as \%.

------------------------------------------------------------------------

.!echo "My name is \"Spartacus\"."

Gives:

«
My name is "Spartacus".
»

So “.” (dot/period/full-stop) and “"” (double-quotes) need not be escaped.

------------------------------------------------------------------------

.!echo "One#Two#Three"

Gives:

«
[an error!]
»

.!echo "One\#Two\#Three"

«
One#Two#Three
»

So “#” (hash sign/pound sign/sharp/octothrope/etc.) should be escaped with
a backslash.

