This document aims to see how Vim’s “:!...” handles special characters and
quoting. Our shell is bash on GNU/Linux.

------------------------------------------------------------------------

.!echo foo

Gives:

«
foo
»

.!echo 'foobar'

Gives:

«
foobar
»

So “'” (single-quote) doesn't have to be escaped.

------------------------------------------------------------------------

.!echo \'

Gives:

«
'
»

.!echo \\Foo\\

Gives:

«
\Foo\
»

.!perl -E 'say qq(Foo\x{20}Bar)'

Gives:

«
Foo Bar
»

So “\” (Backslash) need not be escaped.

------------------------------------------------------------------------

.!echo %

Gives:

«
understanding-exclamation-mark-shell-exec--escaping-rules.txt
»

.!echo \%

Gives

«
%
»

So “%” (percent-sign) should be escaped as \%.

------------------------------------------------------------------------

.!echo "My name is \"Spartacus\"."

Gives:

«
My name is "Spartacus".
»

So “.” (dot/period/full-stop) and “"” (double-quotes) need not be escaped.

------------------------------------------------------------------------

.!echo "One#Two#Three"

Gives:

«
[an error!]
»

.!echo "One\#Two\#Three"

«
One#Two#Three
»

So “#” (hash sign/pound sign/sharp/octothrope/etc.) should be escaped with
a backslash.

------------------------------------------------------------------------

.!echo '!'

Gives:

«
[error: no previous command]
»

.!echo '\!'

Gives

«
!
»

So “!” (exclamation mark/bang/etc.) should be escaped with a backslash.

------------------------------------------------------------------------

.!echo '@'

Gives:

«
@
»

So “@” (at-sign) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo ':'

Gives:

«
:
»

So “:” (colon) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo '$'

Gives:

«
$
»

So “$” (dollar-sign) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo '^'

Gives:

«
^
»

So “^” (caret) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo '&'

Gives:

«
&
»

So “&” (ampersand) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo '*'

Gives:

«
*
»

So “*” (asterisk/star) should not be escaped with a backslash.

------------------------------------------------------------------------

.!echo '('

Gives:

«
(
»

So “(” (left parenthesis/opening parenthesis/left round bracket) should not be
escaped with a backslash.

------------------------------------------------------------------------

.!echo ')'

Gives:

«
)
»

So “)” (right parenthesis/closing parenthesis/right round bracket) should not be
escaped with a backslash.
